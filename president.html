<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-08-24">

<title>President’s Message – #Keep Dal Stong</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ce7076ff5585a7711fb0451c39857c48.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">#Keep Dal Stong</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./media-releases.html"> 
<span class="menu-text">Media Releases</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./students.html"> 
<span class="menu-text">For Students</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./president.html" aria-current="page"> 
<span class="menu-text">President’s Messages</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./daily-bulletins.html"> 
<span class="menu-text">Daily Bulletins</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./in-the-news.html"> 
<span class="menu-text">In the News</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./support.html"> 
<span class="menu-text">What can you do?</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./solidarity.html"> 
<span class="menu-text">Solidarity</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.dfa.ns.ca/"> <i class="bi bi-globe" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/dalfacultyassoc/"> <i class="bi bi-facebook" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/dalfacultyassoc"> <i class="bi bi-twitter-x" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/dalfacultyassoc/?hl=en"> <i class="bi bi-instagram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-comes-next" id="toc-what-comes-next" class="nav-link active" data-scroll-target="#what-comes-next">What comes next?</a></li>
  <li><a href="#respecting-and-valuing-diverse-opinions-and-perspectives" id="toc-respecting-and-valuing-diverse-opinions-and-perspectives" class="nav-link" data-scroll-target="#respecting-and-valuing-diverse-opinions-and-perspectives">Respecting and valuing diverse opinions and perspectives</a></li>
  <li><a href="#my-own-self-reflections" id="toc-my-own-self-reflections" class="nav-link" data-scroll-target="#my-own-self-reflections">My own self-reflections</a></li>
  <li><a href="#what-can-we-do-at-this-time-to-reach-a-satisfactory-conclusion" id="toc-what-can-we-do-at-this-time-to-reach-a-satisfactory-conclusion" class="nav-link" data-scroll-target="#what-can-we-do-at-this-time-to-reach-a-satisfactory-conclusion">What can we do at this time to reach a satisfactory conclusion?</a></li>
  <li><a href="#final-remarks" id="toc-final-remarks" class="nav-link" data-scroll-target="#final-remarks">Final remarks</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">President’s Message</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 24, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><img src="images/clipboard-3912916891.png" class="img-fluid"></p>
<p>Dave Westwood DFA President 2025-2026</p>
<p>I apologize that it has taken me this long to write to you to provide some perspective and comments about this auspicious time in our history as a union. I think it is fair to say things have been a bit hectic. We are only a few days into the lockout, but already much has happened with plenty more yet to come.</p>
<p>As you probably suspect, I receive a considerable number of messages from Members in addition to ‘external’ supporters, detractors, and genuinely curious individuals who are simply trying to understand what is happening. Many of these messages have helped shape and clarify my view of the situation, strengthening my own convictions in some areas, and forcing me to reconsider some things as well.</p>
<p>I have served as DFA President several times, but this is my first lockout (and strike!) and I am ready and keen to learn and adapt, as we all must. I try to be open and responsive to any and all feedback anyone wants to provide, and I encourage you to share with me what is on your mind.</p>
<p>One of the most important lessons I have learned is to have grace, and not in the sense of smooth and effortless movement. As I understand it, to have grace is to appreciate and recognize that people are trying to do their best at this very difficult, stressful, and confusing time, and one cannot and should not expect perfection, composure, and freedom from mistakes. We all make mistakes, and it would be a further mistake to interpret this as evidence of malice or nefarious intent. We are all learning during this very difficult and stressful time, and I hope that everyone involved in this labour disruption can find the grace to allow ourselves and others the space to express our ideas and emotions with as little judgment as possible.</p>
<p>This is not easy for any of us. After all, we are humans, not chatbots.</p>
<section id="what-comes-next" class="level3">
<h3 class="anchored" data-anchor-id="what-comes-next">What comes next?</h3>
<p>Thanks to our strong ‘rejection’ vote, our bargaining team now has a clear and strong mandate to demand that the Board return to the table to negotiate a contract that will bring a conclusion to the labour dispute.</p>
<p>We have formally notified the Board that we are ready and willing to meet them whenever they have a substantially improved offer for us to consider, or if they wish to meet to discuss more creative or innovative solutions to the issues that we have identified as our concerns and priorities. Our conciliation officer Rick Rose remains assigned to our file, and will continue to assist us in reaching a new agreement. Unfortunately, the Board is under no obligation to return to the table in a timely manner. Like you, I would hope that our employer will see the value and indeed necessity of moving quickly to resolve the labour disruption. Every minute that passes threatens the start and success of the Fall semester for our students, and of course for us and our fellow workers at Dalhousie.</p>
<p>We have no interest in a lengthy labour dispute – our goal all along has been to negotiate a contract that we believe DFA Members would find acceptable given the information shared with us during the development of our bargaining proposals. There is no intrinsic value in a long labour disruption. That said, we are very well prepared to support every Member even if the lockout continues for many weeks or even months. Let’s all hope that is not required.</p>
<p>Key updates will be shared regularly as bargaining continues. Things could move quickly, or there could be long periods of waiting. We must keep our spirits and energy strong during this phase as the excitement from the first week of the lockout dissipates and we enter what could be an attritional period where things might turn into a bit of a grinding affair.</p>
<p>I have already been amazed and astonished by the enthusiasm and energy that I’ve seen on our picket lines, and I know that we have a huge amount of creative energy and talent to pour into this job action so I look forward to the clever, funny, creative, and passionate messages on picket signs and flooding social media.</p>
</section>
<section id="respecting-and-valuing-diverse-opinions-and-perspectives" class="level3">
<h3 class="anchored" data-anchor-id="respecting-and-valuing-diverse-opinions-and-perspectives">Respecting and valuing diverse opinions and perspectives</h3>
<p>We are all the DFA.</p>
<p>While the term ‘President’ might conjure images of a hierarchical structure of command and control – perhaps more so now than ever – I am the DFA President in title only. We have almost 1000 Members and each of us is an equal part of this union. No two of us have exactly the same experiences, personal history, or perspective on all or even any of the issues related to the current labour disruption.</p>
<p>Nobody in our union reports to me, or is required to take direction from me, and nor do I intend or expect that any of you should follow my lead or adopt my views about anything. We are all academics who are perfectly capable of forming our own opinions through gathering and analyzing evidence and information. In addition to our robust analytical skills and abilities, we are also human beings who experience emotions and react in different ways in the face of challenge and adversity.</p>
<p>I say this because there will be times during this labour dispute that you might disagree strongly with opinions or expressions of emotions that you see or hear from one or more colleagues in the DFA.</p>
<p>In addition, the University is a place where we form numerous relationships and bonds with DFA colleagues but also other workers including those who occupy the most senior administrative positions at the University including the President herself. A labour dispute is particularly challenging when you have integrated relationships with the individuals on the other side of the table.</p>
<p>If you disagree with someone’s comments or perspective, I encourage you to engage in a respectful dialogue with that person to share your experience and to learn about their experience which likely differs from your own.</p>
</section>
<section id="my-own-self-reflections" class="level3">
<h3 class="anchored" data-anchor-id="my-own-self-reflections">My own self-reflections</h3>
<p>As DFA President, I have a responsibility to provide leadership at this time, and with that comes the opportunity or even requirement to speak as “the voice of the DFA” to the extent that this is (a) required, and (b) possible.</p>
<p>My goal is to try to remain focused on moving us toward our ultimate goal, which is to conclude a new collective agreement that is the best one possible for all DFA Members. I am trying to be as open, honest, and transparent as I can, and I am doing my best to be the kind of leader that you can trust and respect. As I mentioned above, I make mistakes, and when I look back at things that I have done or said I am not always pleased or proud of my actions.</p>
<p>I acknowledge and recognize that in some of my remarks to you and in the media, I allowed my own emotions to become a part of my communication, and that I may have unfairly criticized individuals in the senior administration and questioned their underlying motives. I recognize that senior administrators are humans who are also under a lot of stress and pressure and who also make mistakes, and that they have jobs to do just as we do.</p>
<p>That said, let me be perfectly clear with you on one point because it directly relates to some of the strong emotional reactions that I see in our membership, including myself.</p>
<p>We have been locked out of our place of work by President Kim Brooks, and President Kim Brooks alone.</p>
<p>She has the sole authority to initiate this action, and she did not have to do it. While I have no doubt that this choice was informed by consultation with a variety of individuals within the management apparatus, at the end of the day the decision rested with a single individual.</p>
<p>If you attended our inaugural rally, or have read the media coverage surrounding the lockout of DFA Members, you will have learned or been reminded that lockouts in any sector are uncommon, and in higher education they are almost unheard of. Lockouts forever change the relationship between employer and employees.</p>
<p>It is true that a lockout is a legal part of labour relations, in the same way that a strike is, but there is a very important and I would argue critical difference between the two that makes a lockout far more significant.</p>
<p>Unionized employees that legally withdraw their labour during a strike do no direct personal harm to the employer. They are choosing to use one of the very few tools of power at their disposal to negotiate the terms and conditions of their employment. When they initiate a strike, they do so with the recognition that they will surrender their own income for some period of time.</p>
<p>In contrast, employers that legally lock out their employees have chosen to do direct personal harm to those individuals by withholding the income that they depend upon to support themselves and their families.</p>
<p>When President Kim Brooks locked us out, she did so with the knowledge that it would cause direct personal harm to each and every one of us, and it was a conscious and calculated choice to take this action “in the best interests of the institution”. It is entirely possible that anyone acting as President of Dalhousie University might have reached the same conclusion, but the fact is that it was a particular individual that took this action at a particular moment in time, and that person needs to own and be held accountable for that decision.</p>
<p>So, when I see and hear colleagues expressing strong emotions, I understand and recognize where this comes from.</p>
<p>All of this said, I want to be clear that I am not suggesting that personal or ad hominem attacks are appropriate, necessary, or helpful.</p>
<p>Such attacks are not and will not be a part of the DFA bargaining strategy.</p>
<p>We have been attacked, and hurt, but I believe the best way forward at this time is to continue generating pressure on the entire Board of Governors so that they bring an offer to the table that we can accept.</p>
</section>
<section id="what-can-we-do-at-this-time-to-reach-a-satisfactory-conclusion" class="level3">
<h3 class="anchored" data-anchor-id="what-can-we-do-at-this-time-to-reach-a-satisfactory-conclusion">What can we do at this time to reach a satisfactory conclusion?</h3>
<p>Now that we are into a labour disruption, I think it is imperative that we all do our best to support and encourage each other. If the dispute lasts a considerable length of time we will all begin to feel many forms of pressure, not the least of which is financial as essential expenses like groceries, rent, mortgage payments, and health needs come due. The strength of a union is the people in it, and we will need to lean on each other as pressure begins to mount. <strong><em>(NOTE: If you need to contact your financial institution to request a temporary relief of payments, <a href="https://immediac.blob.core.windows.net/dfa2021/2025%20Bargaining/Financial%20institution.Letter%20for%20Members.%20August%202025.docx">click here for a template letter</a>.)</em></strong></p>
<p>Much of our media exposure to date has been ‘centrally controlled and managed’, and for good reason. We wanted to be sure that traditional media outlets were able to share accurate and timely information with key stakeholders such as students and their families. This helps to create pressure on the Board, as students begin to recognize that significant disruptions are about to occur to their plans for education at Dalhousie. You can help us to amplify this pressure through your own personal channels including social media. The kinds of messages that create maximum pressure on the Board are those that create awareness amongst students and their families that the longer this dispute drags on, the greater the impact on their academic year in terms of when it might start, when it might end, and what amount of content might be lost if the term needs to be cut short because of a protracted labour dispute. When discussing the issues at stake in our collective bargaining, I encourage all DFA Members to speak openly and honestly about your own personal context. The issues that we are fighting for resonate with our fellow workers: catching wages up to high levels of inflation and cost of living, protecting good quality jobs for future generations, helping new workers to cope with the disproportionate impact of the wage/cost-of-living gap, fighting against the precarity of work that has seen an abuse of contract-based employment that allows employers to make employees disposable even though the work that is required is essential and continuing. For many of us, myself included, the fight at this time is for others in the who are facing more difficult circumstances. I have heard loud and clear that those most in need of our collective strength at this time are our early-career colleagues, and our colleagues that are being exploited through continued precarious contracts.</p>
</section>
<section id="final-remarks" class="level3">
<h3 class="anchored" data-anchor-id="final-remarks">Final remarks</h3>
<p>A labour disruption is a time to come together, and it can be a great time to organize and build collective power for the future. There is a unique energy and excitement during a labour disruption, and we get to interact and mingle with our fellow union members in ways that just do not happen at any other time. I encourage everyone to make the most of this rare moment to build solidarity, and to talk about and take note of ways that we can build on our newfound strength after this dispute is resolved. Once we settle into a routine with our picket lines and activities, I would love to see spontaneous events, gatherings, and social activities that help us to forge strong and lasting bonds with each other. There is strength in a union, and that strength is us.</p>
<p>Sincerely,</p>
<p><img src="images/clipboard-2222749509.png" class="img-fluid" width="248"></p>
<p>Dave Westwood DFA President 2025-2026</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>